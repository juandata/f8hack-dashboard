import React, {Component} from 'react';
import axios from 'axios';
import Map from '../../src/index';

import InfoWindow from '../../src/components/InfoWindow';
import Marker from '../../src/components/Marker';

class WithMarkers extends Component {
    constructor(...args) {
        super(...args);
        this.state = {
            activeMarker: {},
            selectedPlace: {},
            showingInfoWindow: false,
            issues: []
        };
    }

    onMarkerClick = (props, marker) =>
        this.setState({
            activeMarker: marker,
            selectedPlace: props,
            showingInfoWindow: true
        });

    onInfoWindowClose = () =>
        this.setState({
            activeMarker: null,
            showingInfoWindow: false
        });

    onMapClicked = () => {
        if (this.state.showingInfoWindow)
            this.setState({
                activeMarker: null,
                showingInfoWindow: false
            });
    };

    componentWillMount() {
        axios
            .get('https://ombudsbot-back-nzezhejzla.now.sh/reported-issues')
            .then(response => {
                console.log(response);
                this.setState({issues: response.data.issues});
            });
    }

    render() {
        if (!this.props.loaded) return <div>Loading...</div>;

        const icons = {
                'Noisy Neighbors': {
                    icon: 'data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ5NC4wMzEgNDk0LjAzMSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDk0LjAzMSA0OTQuMDMxOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4Ij4KPGcgdHJhbnNmb3JtPSJtYXRyaXgoMS4yNSAwIDAgLTEuMjUgMCA0NSkiPgoJPGc+CgkJPGc+CgkJCTxnPgoJCQkJPHBhdGggc3R5bGU9ImZpbGw6I0ZGQUMzMzsiIGQ9Ik0zOTUuMjI1LTIyNC4wNjJjMC4wMzQtNi4yOTItNS4wNC0xMS40MDEtMTEuMzU1LTExLjQxMmwtNTYuODg5LTAuMTQ4ICAgICAgYy02LjI4MS0wLjAyMy0xMS4zNjYsNS4wODYtMTEuMzc4LDExLjM0NGMtMC4wMzQsNi4zMTUsNS4wNTIsMTEuNDAxLDExLjMyMSwxMS40MjNsNTYuODg5LDAuMTQ4ICAgICAgQzM5MC4xMDUtMjEyLjcwNywzOTUuMjE0LTIxNy43NywzOTUuMjI1LTIyNC4wNjIiLz4KCQkJCTxwYXRoIHN0eWxlPSJmaWxsOiNGRkFDMzM7IiBkPSJNMzc3LjE1Ny0xNjEuNjA5YzIuNzA4LTUuNjc4LDAuMjg0LTEyLjQ1OS01LjQwNC0xNS4xNjdsLTUxLjM4Mi0yNC40MDUgICAgICBjLTUuNjY2LTIuNjg1LTEyLjQ0Ny0wLjI2Mi0xNS4xMzIsNS40MTZjLTIuNzMxLDUuNjY2LTAuMjk2LDEyLjQ0Nyw1LjM4MiwxNS4xNjdsNTEuMzgyLDI0LjM5NCAgICAgIEMzNjcuNjkxLTE1My41MiwzNzQuNDYtMTU1LjkzMiwzNzcuMTU3LTE2MS42MDkiLz4KCQkJCTxwYXRoIHN0eWxlPSJmaWxsOiNGRkFDMzM7IiBkPSJNMzc3LjQ5OC0yODYuNjE3YzIuNjYyLDUuNywwLjIyOCwxMi40Ny01LjQ2MSwxNS4xMzJsLTUxLjUxOSwyNC4xNDQgICAgICBjLTUuNywyLjY4NS0xMi40NTksMC4yMzktMTUuMTMyLTUuNDVjLTIuNjYyLTUuNy0wLjIxNi0xMi40Nyw1LjQ4NC0xNS4xMzJsNTEuNDk2LTI0LjE1NSAgICAgIEMzNjguMDU1LTI5NC43NTIsMzc0Ljg0Ny0yOTIuMzA2LDM3Ny40OTgtMjg2LjYxNyIvPgoJCQk8L2c+CgkJCTxwYXRoIHN0eWxlPSJmaWxsOiMyOTJGMzM7IiBkPSJNMzA1LjgxOC0xMjkuODY1Yy0xNi4xNTYsNC43NjctMzAuNjQsMTcuNjAxLTM1LjY4MSwyNS42ICAgICBjLTguNjQ3LDEzLjc0NCwxLjc3NSwxNy4zMDYtMS43NTIsNTUuNjI2Yy0zLjIzMSwzNS4wNzgtNTEuNTMsNzIuODA2LTExMC4yNTEsNzYuNjQxYy0yNi42ODEsMS43NDEtNTQuNDQzLTMuNzA5LTgyLjg4Ny0xOS4yNjMgICAgIEMyLjIwMi0zMS4yMDgtMjYuNzU0LTExNS42NDMsMjkuNjY4LTE5Ny4xODdjNTAuODU5LTczLjUsMy4xNC0xMDYuNzEyLDMuMTQtMTA2LjcxMnMxLjg4OS0xNS40NzQsMzMuMTU1LTM2LjI3MiAgICAgYzMxLjI3OC0yMC43OTksNjkuNjQzLTYuNjksNjkuNjQzLTYuNjlzMTIuNjUyLDQ0Ljk4OCw1NC4wMjIsNDAuODQ2YzI5LjY2Mi00LjM2OSw3MS4yOTMsMS40NTYsODEuODE4LDExLjY1MSAgICAgYzkuODUzLDkuNTIzLTEuNzE4LDIxLjQ1OCw2LjEzMyw0OC4wNmMtMjYuOTA4LDIuNjI4LTQxLjY4OCwxNS40NjItNDMuMTEsMzMuNTQyYzI5Ljg2Ny0yLjkwMSw0Mi4xNzcsNi41NzYsNTAuNzExLDE3LjAxICAgICBjLTAuMjI4LDYuMTQ0LTAuODUzLDE5LjE4My0xLjQzNCwyNy45MjFDMzEwLjE1My0xNjAuMTg3LDMyMC4yNjgtMTM0LjEzMiwzMDUuODE4LTEyOS44NjUiLz4KCQk8L2c+Cgk8L2c+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPC9zdmc+Cg=='
                },
                'Child endangerment': {
                    icon: 'data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMS4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDYzIDYzIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA2MyA2MzsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiPgo8Zz4KCTxnIGlkPSJncm91cC0xMXN2ZyI+CgkJPHBhdGggaWQ9InBhdGgtMV8xXyIgZD0iTTYxLjUsNTguMDg0aC02MGMtMC41MzEsMC0xLjAyMy0wLjI4MS0xLjI5My0wLjczOWMtMC4yNjktMC40NTctMC4yNzYtMS4wMjMtMC4wMTgtMS40ODhMMjcuMDQxLDcuNDUyICAgIGMwLjAyMS0wLjAzNywwLjA0Mi0wLjA3MiwwLjA2Ni0wLjEwN2MxLjAxOS0xLjUyMiwyLjcxMS0yLjQzLDQuNTI1LTIuNDNjMS43NDQsMCwzLjI5OCwwLjgyNSw0LjI2MiwyLjI2NSAgICBjMC4wMjMsMC4wMzUsMC4wNDYsMC4wNzIsMC4wNjYsMC4xMDlsMjYuODUzLDQ4LjU3YzAuMjU2LDAuNDY1LDAuMjQ5LDEuMDMtMC4wMjEsMS40ODdDNjIuNTIzLDU3LjgwNCw2Mi4wMzEsNTguMDg0LDYxLjUsNTguMDg0eiAgICAgTTQuMDQ4LDU1LjA4NGg1NC45MDlMMzMuMzY5LDguODA0Yy0wLjU0My0wLjc3Mi0xLjMxOC0wLjg4OS0xLjczNy0wLjg4OWMtMC43OTQsMC0xLjUzOCwwLjM5My0yLjAwMiwxLjA1NEw0LjA0OCw1NS4wODR6IiBmaWxsPSIjMDAwMDAwIi8+CgkJPHBhdGggaWQ9InBhdGgtMl8xXyIgZD0iTTM3LjkyNCw1MS4wODRIMjYuOTY2Yy0yLjg2LDAtMy45OC0xLjY4My00LjA3MS0zLjI2bC0wLjkzNi04LjYyYy0wLjEwOS0xLjg0LDEuMDI2LTkuMTc1LDMuMDEzLTExLjI4MSAgICBjMC42NTMtMC42OTMsMS4zMjktMC44MzksMS43OC0wLjgzOWgxMS4zODVjMC40MzcsMCwxLjA5MywwLjEzOCwxLjcyNywwLjc5NmMyLjA1MSwyLjEyOSwzLjE3LDkuOTk1LDMuMDc0LDEyLjYxMSAgICBjLTAuMDAyLDAuMDQ0LTAuMDA1LDAuMDg3LTAuMDExLDAuMTNsLTAuOTQyLDcuNTM1Yy0wLjAxLDAuMDg3LTAuMDI5LDAuMTcyLTAuMDU0LDAuMjU1ICAgIEM0MS42ODYsNDkuMjEsNDAuMDI3LDUxLjA4NCwzNy45MjQsNTEuMDg0eiBNMjcuMDU3LDMwLjA4NGMtMC45ODEsMS4yMDktMi4yMTIsNy4xMjItMi4xMSw4Ljg3MWwwLjkzNiw4LjYyICAgIGMwLjAxNCwwLjIwNCwwLjAzMiwwLjUwOSwxLjA4MywwLjUwOWgxMC45NThjMC4zOTIsMCwwLjg4My0wLjM4NiwxLjEyOS0wLjY1NGwwLjg4OS03LjExMmMwLjA4Ny0yLjk1My0xLjE4OS05LTIuMTI4LTEwLjIzNCAgICBIMjcuMDU3eiIgZmlsbD0iIzAwMDAwMCIvPgoJCTxwYXRoIGlkPSJwYXRoLTMiIGQ9Ik0zNy45NDEsMzYuMDg0SDI2Ljk0OGMtMC41NCwwLTAuOTgyLTAuNDI4LTAuOTk5LTAuOTY5Yy0wLjA1LTEuNjA1LDAuNTEtNi4yMzcsMS43NzUtNy41NDMgICAgYzAuMzkxLTAuNDAzLDAuOC0wLjQ4OCwxLjA3NC0wLjQ4OGg3LjI5M2MwLjI3NCwwLDAuNjg0LDAuMDg1LDEuMDc0LDAuNDg4YzEuMjY2LDEuMzA2LDEuODI1LDUuOTM4LDEuNzc1LDcuNTQzICAgIEMzOC45MjMsMzUuNjU2LDM4LjQ4MSwzNi4wODQsMzcuOTQxLDM2LjA4NHogTTI3Ljk3MiwzNC4wODRoOC45NDVjLTAuMTI1LTEuODMzLTAuNjQ5LTQuMzAyLTEuMDk2LTVoLTYuNzUzICAgIEMyOC42MjEsMjkuNzgzLDI4LjA5NywzMi4yNTIsMjcuOTcyLDM0LjA4NHoiIGZpbGw9IiMwMDAwMDAiLz4KCQk8cGF0aCBpZD0icGF0aC00IiBkPSJNMzcuMzg5LDQyLjc2YzAsMC44NTctMC42OTYsMS41NTItMS41NTIsMS41NTJjLTAuODU3LDAtMS41NTMtMC42OTUtMS41NTMtMS41NTIgICAgYzAtMC44NTcsMC42OTYtMS41NTIsMS41NTMtMS41NTJDMzYuNjkzLDQxLjIwOCwzNy4zODksNDEuOTAzLDM3LjM4OSw0Mi43NnoiIGZpbGw9IiMwMDAwMDAiLz4KCQk8cGF0aCBpZD0icGF0aC01IiBkPSJNMzAuNjUsNDIuNzZjMCwwLjg1Ny0wLjY5NCwxLjU1Mi0xLjU1MSwxLjU1MmMtMC44NTgsMC0xLjU1Mi0wLjY5NS0xLjU1Mi0xLjU1MiAgICBjMC0wLjg1NywwLjY5NC0xLjU1MiwxLjU1Mi0xLjU1MkMyOS45NTYsNDEuMjA4LDMwLjY1LDQxLjkwMywzMC42NSw0Mi43NnoiIGZpbGw9IiMwMDAwMDAiLz4KCQk8cGF0aCBpZD0icGF0aC02IiBkPSJNMzUuNDU1LDQ3LjA4NGgtN2MtMC41NTMsMC0xLTAuNDQ3LTEtMWMwLTAuNTUzLDAuNDQ3LTEsMS0xaDdjMC41NTMsMCwxLDAuNDQ3LDEsMSAgICBDMzYuNDU1LDQ2LjYzNywzNi4wMDgsNDcuMDg0LDM1LjQ1NSw0Ny4wODR6IiBmaWxsPSIjMDAwMDAwIi8+Cgk8L2c+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPC9zdmc+Cg=='
                },
                'Health issue': {
                    icon: 'data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUxMiA1MTI7IiB4bWw6c3BhY2U9InByZXNlcnZlIiB3aWR0aD0iMzJweCIgaGVpZ2h0PSIzMnB4Ij4KPGc+Cgk8Zz4KCQk8cGF0aCBkPSJNMzc2LDMzYy02MC42NTksMC05OS41OTUsNDIuMDEyLTEyMCw3OS44NDlDMjM1LjU5NSw3NS4wMTEsMTk2LjY1OSwzMywxMzYsMzNDNTkuMDM3LDMzLDAsOTUuNDQ2LDAsMTc4LjI2OCAgICBjMCwyMS42MSw0LjMyNyw0MS41NjEsMTIuMjk0LDYwLjczMmgxMTQuNDM0bDI1Ljg1NC01MS43MDljNS4wOTgtMTAuMTY2LDIxLjczOC0xMC4xNjYsMjYuODM2LDBMMjI2LDI4MC40NTZsMTYuNTgyLTMzLjE2NCAgICBjNS4wOTgtMTAuMTY2LDIxLjczOC0xMC4xNjYsMjYuODM2LDBMMjg2LDI4MC40NTZsNDYuNTgyLTkzLjE2NGM1LjA5OC0xMC4xNjYsMjEuNzM4LTEwLjE2NiwyNi44MzYsMEwzODUuMjcyLDIzOWgxMTQuNDM0ICAgIEM1MDcuNjczLDIxOS44MjksNTEyLDE5OS44NzgsNTEyLDE3OC4yNjhDNTEyLDk1LjQ0Niw0NTIuOTYzLDMzLDM3NiwzM3oiIGZpbGw9IiMwMDAwMDAiLz4KCTwvZz4KPC9nPgo8Zz4KCTxnPgoJCTxwYXRoIGQ9Ik0zNzYsMjY5Yy01LjY4NCwwLTEwLjg2OS0zLjIwOC0xMy40MTgtOC4yOTFMMzQ2LDIyNy41NDVsLTQ2LjU4Miw5My4xNjRDMjk2Ljg2OSwzMjUuNzkyLDI5MS42ODQsMzI5LDI4NiwzMjkgICAgYy01LjY4NCwwLTEwLjg2OS0zLjIwOC0xMy40MTgtOC4yOTFMMjU2LDI4Ny41NDVsLTE2LjU4MiwzMy4xNjRjLTUuMDk4LDEwLjE2Ni0yMS43MzgsMTAuMTY2LTI2LjgzNiwwTDE2NiwyMjcuNTQ1ICAgIGwtMTYuNTgyLDMzLjE2NEMxNDYuODY5LDI2NS43OTIsMTQxLjY4NCwyNjksMTM2LDI2OUgyOC4wMzdjMzAuODczLDQ4LjU3NCw4Ni40NzQsOTQuNzEzLDE1Ni4wMjQsMTUzLjQxMyAgICBjMTkuNTI2LDE2LjQ3OSw0MC4yOTgsMzQuMDE0LDYyLjEwOSw1Mi45MjVjMi44MjcsMi40NDYsNi4zMjgsMy42NjIsOS44MjksMy42NjJzNy4wMDItMS4yMTYsOS44MjktMy42NjIgICAgYzIxLjgxMi0xOC45MTEsNDIuNTgzLTM2LjQ0NSw2Mi4xMDktNTIuOTI1YzY5LjU1MS01OC43LDEyNS4xNTEtMTA0LjgzOSwxNTYuMDI0LTE1My40MTNIMzc2eiIgZmlsbD0iIzAwMDAwMCIvPgoJPC9nPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPgo='
                },
                'Criminal issue': {
                    icon: 'data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjMycHgiIGhlaWdodD0iMzJweCIgdmlld0JveD0iMCAwIDQzMi41NTQgNDMyLjU1NCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDMyLjU1NCA0MzIuNTU0OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnPgoJPGc+CgkJPHBhdGggZD0iTTMzOS41MywyOTQuMzljLTQwLjgyNC0xNS43MDEtNTIuNjAyLTIwLjQwNi01Ni41MjUtMjEuMTk1Yy0wLjc4OSwwLTIuMzUyLDAtMy4xNDIsMC43ODlsLTM2LjksMjUuMTE0ICAgIGMtMC43ODEsMC43OS0xLjU2MiwxLjU3MS0xLjU2MiwzLjE0MmMwLDAuNzgyLDAsMi4zNTMsMC43ODEsMy4xNDNsMTguODQzLDE4LjgzOWwtMjEuMTk1LDIxLjE5NSAgICBjLTEuNTc0LDEuNTc0LTEuNTc0LDMuOTI3LDAsNS40OThsMTguODM1LDI0LjMzM2wtMjUuOTAzLDUxLjgxNmMtMC43ODIsMS41NjYtMC43ODIsMi4zNTUsMCwzLjkyNyAgICBjMC43ODksMC43ODEsMi4zNTIsMS41NjMsMy4xNDIsMS41NjNoMTU3LjAwN2MyLjM1NiwwLDMuOTI4LTEuNTYzLDMuOTI4LTMuOTI0QzM5OC40MDcsNDEwLjU3Myw0MDMuODk3LDMxOS41MTIsMzM5LjUzLDI5NC4zOXoiIGZpbGw9IiMwMDAwMDAiLz4KCQk8cGF0aCBkPSJNMTczLjg4NSwzNzQuNDY2bDE4Ljg0MS0yNC4zNDJjMS41NzEtMS41NjIsMC43ODYtMy45MjcsMC01LjQ5bC0yMS4xOTctMjEuMTk1bDE4Ljg0My0xOC44NDcgICAgYzAuNzgyLTAuNzgxLDEuNTY5LTIuMzUzLDAuNzgyLTMuMTM0YzAtMC43ODktMC43ODItMi4zNi0xLjU2Ny0zLjE0MmwtMzYuODk4LTI1LjEyMmMtMC43ODYtMC43ODYtMi4zNTQtMC43ODYtMy4xNC0wLjc4NiAgICBjLTMuMTQsMC43ODYtMTQuOTEzLDUuNDk4LTU2LjUyMiwyMS4xOTlDMjguNjU0LDMxOS41MTIsMzQuMTQ2LDQxMC41NzMsMzUuNzE5LDQyOC42M2MwLDIuMzYsMS41NzEsMy45MjQsMy45MjMsMy45MjRoMTU3LjAwOSAgICBsMCwwYzEuNTcxLDAsMi4zNTMtMC43ODIsMy4xNC0xLjU2M2MwLjc4Ni0wLjc4OSwwLjc4Ni0yLjM2LDAtMy45MjdMMTczLjg4NSwzNzQuNDY2eiIgZmlsbD0iIzAwMDAwMCIvPgoJCTxwYXRoIGQ9Ik0yNDIuOTYyLDM3My42NzZsLTIxLjE5LTI2LjY4NmwyMC40MDktMjAuNDE3YzAuNzgxLTAuNzgyLDAuNzgxLTEuNTYzLDAuNzgxLTMuMTM1YzAtMS41NzQtMC43ODEtMi4zNTUtMC43ODEtMy4xNDYgICAgbC0yMi43NjctMjIuNzYyYy0xLjU2Ni0xLjU3MS0zLjkyNS0xLjU3MS01LjQ5MiwwbC0yMi43NywyMi43NjJjLTEuNTY3LDEuNTcxLTEuNTY3LDMuOTI4LDAsNS40OThsMjAuNDEyLDIwLjQwNmwtMjEuMTkzLDI2LjY5NyAgICBjLTAuNzg1LDAuNzgxLTAuNzg1LDIuMzUzLTAuNzg1LDMuOTI0bDIzLjU1MSw1MS44MTJjMC43ODYsMS41NzEsMi4zNTMsMi4zNiwzLjkyNiwyLjM2YzEuNTY2LDAsMy4xMzgtMC43ODksMy45MjUtMi4zNiAgICBsMjMuNTQ2LTUxLjgxMkMyNDQuNTM0LDM3Ni44MTksMjQ0LjUzNCwzNzUuMjQ4LDI0Mi45NjIsMzczLjY3NnoiIGZpbGw9IiMwMDAwMDAiLz4KCQk8cGF0aCBkPSJNMjk3LjkxNywxNDAuNTIyYy0yMC40MS0xMC45OS01MS4wMjYtMTcuMjY4LTgxLjYzOS0xNy4yNjhjLTMwLjYxNywwLTYxLjIzMyw2LjI3OC04MS42NDMsMTcuMjY4ICAgIGMtMC43ODgsMC43ODYtMS41NzMsMS41NzEtMS41NzMsMi4zNTZjMCwwLjc4NCwwLDIuMzU0LDAuNzg2LDMuMTRjMTcuMjc0LDI2LjY5Miw2My41OSwyNy40NzcsNzMuMDA3LDI3LjQ3N2wwLDBoMjAuNDA3ICAgIGM5LjQyMiwwLDU1Ljc0My0xLjU3Myw3My4wMTYtMjcuNDc3YzAuNzgxLTAuNzg1LDAuNzgxLTIuMzU2LDAuNzgxLTMuMTRDMjk5LjQ4OCwxNDIuMDkzLDI5OC43MDYsMTQwLjUyMiwyOTcuOTE3LDE0MC41MjJ6IiBmaWxsPSIjMDAwMDAwIi8+CgkJPHBhdGggZD0iTTIxNi4yNzcsMjYxLjQxN0wyMTYuMjc3LDI2MS40MTdMMjE2LjI3NywyNjEuNDE3YzUyLjU5Ny0wLjc4MSw5NC45ODQtNDMuMTc2LDk0Ljk4NC05NS43NzFjMC0xLjU3MSwwLTMuOTI1LDAtNi4yODIgICAgYzAtMS41NjktMC43ODEtMy4xNC0yLjM1My0zLjE0Yy0xLjU3LTAuNzg4LTMuMTQyLDAtMy45MjMsMC43ODZjLTIyLjc3MSwyMi43NjQtNjQuMzc2LDI1LjEyMi03Ni45MzUsMjUuMTIyaC0yMS4xOTcgICAgYy0xMi41NTgsMC01NC4xNjctMS41NzEtNzYuOTMzLTI1LjEyMmMtMC43ODYtMC43ODYtMi4zNTMtMS41NzMtMy45MjMtMC43ODZjLTEuNTczLDAuNzg2LTIuMzU0LDEuNTcxLTIuMzU0LDMuMTQgICAgYzAsMi4zNTYsMCwzLjkyMywwLDYuMjgyQzEyMS4yODUsMjE4LjI0MSwxNjMuNjc4LDI2MC42MzUsMjE2LjI3NywyNjEuNDE3eiIgZmlsbD0iIzAwMDAwMCIvPgoJCTxwYXRoIGQ9Ik0xMTQuMjIyLDEwOC4zMzVjMS41NzEsMC43ODYsMy4xMzgsMS41NzEsNC43MTEsMC43ODZjMTQuMTI4LTcuODUxLDU4LjA5MS0yMS4xOTMsOTYuNTU3LTIxLjE5MyAgICBjMzkuMjQ3LDAsODMuMjE2LDEzLjM0Myw5Ny4zNDcsMjEuMTkzYzAuNzgxLDAsMS41NywwLjc4NSwxLjU3LDAuNzg1YzAuNzgyLDAsMS41NzEsMCwyLjM1My0wLjc4NSAgICBjOS40MjItOC42MzYsMTYuNDgyLTE0LjkxNCwxOC44NDMtMTcuMjY5YzEuNTY3LTEuNTcxLDEuNTY3LTMuOTI1LDAuNzgyLTUuNDk2Yy0wLjc4Mi0wLjc4Ny0xLjU3MS0xLjU3My0yLjM1My0zLjE0ICAgIGMtMy45MjQtMy45MjUtOS40MjItMTAuMjA5LTExLjc3NC0yMC40MTJsLTEuNTc0LTUuNDk4Yy0xLjU3MS0xNC4xMjgtMi4zNTMtMTkuNjI0LTE2LjQ4My0yMS4xOTNoLTMuOTIzICAgIGMtMTQuOTItMS41NzEtMzguNDcyLTMuOTI1LTU3LjMxNC0yMC40MTJDMjI3LjI2MSwxLjU3MywyMjAuOTg4LDAsMjE2LjI3NywwYy00LjcxMywwLTEwLjk5MSwxLjU3My0yNi42OTEsMTUuNzAxICAgIGMtMTguODQxLDE2LjQ4Ny00Mi4zOTEsMTguODQxLTU3LjMxLDIwLjQxMmgtMy45MjZjLTE0LjEyOCwxLjU2OS0xNS43MDEsNy4wNjUtMTguMDUzLDIwLjQxMmwtMS41NzMsNS40OTQgICAgYy0yLjM1MywxMC4yMDctNy44NTEsMTUuNzAxLTExLjc3NiwyMC40MTJjLTAuNzgyLDAuNzg1LTEuNTY3LDIuMzUyLTIuMzUzLDMuMTM4Yy0xLjU3MSwxLjU3My0wLjc4NiwzLjkyNSwwLjc4Niw1LjQ5OCAgICBDOTguNTIxLDkzLjQxOSwxMDQuNzk5LDk5LjcwMywxMTQuMjIyLDEwOC4zMzV6IiBmaWxsPSIjMDAwMDAwIi8+CgkJPHBhdGggZD0iTTMwNy4zMzgsMTMxLjEwM2MwLjc4OS0wLjc4NSwxLjU3LTEuNTcxLDIuMzUyLTMuMTQybDEuNTcxLTcuODUxYzAtMS41NjktMC43ODEtMy45MjUtMi4zNTMtMy45MjUgICAgYy0xMC45OTItNC43MDctNTAuMjQ1LTE4Ljg0MS05MS44NDYtMTguODQxYy00Mi4zOTMsMC04MC44NjIsMTQuMTM0LTkxLjg1MywxOC44NDFjLTEuNTY3LDAuNzg1LTIuMzUzLDIuMzU2LTIuMzUzLDMuOTI1ICAgIGwxLjU2Nyw3Ljg1MWMwLDEuNTcxLDAuNzg1LDIuMzU2LDIuMzU4LDMuMTQyYzAuNzg1LDAsMC43ODUsMC43ODMsMS41NjYsMC43ODNjMC43ODYsMCwxLjU3MSwwLDEuNTcxLTAuNzgzICAgIGMyMi43NjYtMTAuOTkyLDUzLjM4My0xNy4yNzIsODcuOTI3LTE3LjI3MmMzMy43NTUsMCw2NS4xNTYsNi4yOCw4Ny45MTksMTcuMjcyQzMwNC45ODYsMTMxLjEwMywzMDYuNTU3LDEzMS4xMDMsMzA3LjMzOCwxMzEuMTAzICAgIHoiIGZpbGw9IiMwMDAwMDAiLz4KCTwvZz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8L3N2Zz4K'
                },
                'Road maintenance': {
                    icon: 'data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjMycHgiIGhlaWdodD0iMzJweCIgdmlld0JveD0iMCAwIDQ1NS40MTYgNDU1LjQxNiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDU1LjQxNiA0NTUuNDE2OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnPgoJPGc+CgkJPHBhdGggZD0iTTIzNS45NjgsNTIuNTUyYzAuMzksOS42ODgsMC43NzgsMTkuMzc2LDEuMTY5LDI5LjA2NGMtNy41NDMsMC0xMS4zMTMsMC0xOC44NTUsMGMwLjM4OS05LjY4OCwwLjc3OS0xOS4zNzYsMS4xNjctMjkuMDY0ICAgIGMtMTUuMjk1LDAtMzAuNTg5LDAtNDUuODg0LDBjLTMwLjc0NywxMTYuNzcxLTYxLjQ5OSwyMzMuNTM5LTkyLjI0NSwzNTAuMzEyYzQxLjM1MiwwLDgyLjcwNCwwLDEyNC4wNTUsMCAgICBjMC4zODktOS42ODksMC43NzgtMTkuMzc3LDEuMTY4LTI5LjA2NGMxNC4xMTEsMCwyOC4yMjIsMCw0Mi4zMzIsMGMwLjM5Miw5LjY4OCwwLjc4LDE5LjM3NSwxLjE2OCwyOS4wNjQgICAgYzQxLjM1MiwwLDgyLjcwMywwLDEyNC4wNTUsMGMtMzAuNzQ3LTExNi43NzEtNjEuNDk4LTIzMy41NC05Mi4yNDUtMzUwLjMxMkMyNjYuNTU5LDUyLjU1MiwyNTEuMjY0LDUyLjU1MiwyMzUuOTY4LDUyLjU1MnogICAgIE0yMTYuNTMxLDEyNS4xMzNjNy40NTEsMCwxNC45MDItMC4wMDQsMjIuMzU0LTAuMDAyYzEuMDgyLDI2LjkzOSwyLjE2Myw1My44OCwzLjI0Nyw4MC44MThjLTkuNjE2LDAtMTkuMjMxLDAtMjguODQ4LDAgICAgQzIxNC4zNywxNzkuMDEyLDIxNS40NSwxNTIuMDcyLDIxNi41MzEsMTI1LjEzM3ogTTIwOC4yOSwzMzAuMjgyYzEuMDgxLTI2LjkzOCwyLjE2NS01My44NzcsMy4yNDctODAuODE1ICAgIGMxMC43ODEsMCwyMS41NjItMC4wMDIsMzIuMzQyLTAuMDAyYzEuMDgzLDI2LjkzOCwyLjE2Niw1My44NzksMy4yNDcsODAuODE3QzIzNC4xODIsMzMwLjI4MiwyMjEuMjM1LDMzMC4yODIsMjA4LjI5LDMzMC4yODJ6IiBmaWxsPSIjMDAwMDAwIi8+CgkJPHBhdGggZD0iTTMxMS45MjksNTIuNTUyYy02LjI0OCwwLTkuMzczLDAtMTUuNjIxLDBjMzguOTYxLDExNi43NzEsNzcuOTEzLDIzMy41NDEsMTE2Ljg3NiwzNTAuMzEyYzE0LjA3NywwLDI4LjE1NSwwLDQyLjIzMiwwICAgIEM0MDcuNTg5LDI4Ni4wOTEsMzU5Ljc1OSwxNjkuMzIzLDMxMS45MjksNTIuNTUyeiIgZmlsbD0iIzAwMDAwMCIvPgoJCTxwYXRoIGQ9Ik0xNDMuNDg3LDUyLjU1MkM5NS42NTcsMTY5LjMyNCw0Ny44MjYsMjg2LjA5MSwwLDQwMi44NjRjMTQuMDc4LDAsMjguMTU1LDAsNDIuMjMzLDAgICAgYzM4Ljk1OC0xMTYuNzcxLDc3LjkxNS0yMzMuNTQsMTE2Ljg3NS0zNTAuMzEyQzE1Mi44Niw1Mi41NTIsMTQ5LjczNSw1Mi41NTIsMTQzLjQ4Nyw1Mi41NTJ6IiBmaWxsPSIjMDAwMDAwIi8+Cgk8L2c+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPC9zdmc+Cg=='
                },
                'Sewer issue': {
                    icon: 'data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeD0iMHB4IiB5PSIwcHgiIHZpZXdCb3g9IjAgMCA1MTIuMDAyIDUxMi4wMDIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUxMi4wMDIgNTEyLjAwMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiPgo8Zz4KCTxnPgoJCTxwYXRoIGQ9Ik01MDIuNzk4LDQ1Ny43MTFjLTMwLjY5LTE1LjQyLTY2LjczNi0xNC40NzktOTYuNTM3LDEuOTM2di04NS45OTRjNDIuNTIzLTQwLjgzNiw2Ni43OC05Ny40NjksNjYuNzgtMTU2LjU5MyAgICBDNDczLjA0LDk3LjM4MywzNzUuNjc2LDAuMDE5LDI1NiwwLjAxOVMzOC45NTksOTcuMzgzLDM4Ljk1OSwyMTcuMDU5YzAsNTkuMTI0LDI0LjI1NiwxMTUuNzU3LDY2Ljc4MiwxNTYuNTkzdjg1Ljk5MyAgICBjLTI5LjgwNC0xNi40MTUtNjUuODUtMTcuMzUzLTk2LjUzNy0xLjkzNGMtOC4yMzksNC4xMzktMTEuNTYyLDE0LjE3NC03LjQyMywyMi40MTRjNC4xMzksOC4yNCwxNC4xNywxMS41NjMsMjIuNDE0LDcuNDIzICAgIGMyMy4wNy0xMS41OTEsNTAuNjQ4LTkuNTE4LDcxLjk3Myw1LjQwN2MzNi4yNCwyNS4zNjksODMuMDc5LDI1LjM3MSwxMTkuMzIsMC4wMDFjMjQuNjExLTE3LjIyNiw1Ni40MTQtMTcuMjI3LDgxLjAyNS0wLjAwMSAgICBjMTguMTIyLDEyLjY4NiwzOC44ODgsMTkuMDI5LDU5LjY2MiwxOS4wMjhjMjAuNzY3LTAuMDAxLDQxLjUzOS02LjM0Myw1OS42NTktMTkuMDI3YzIxLjMyNy0xNC45MjksNDguOTA1LTE2Ljk5OCw3MS45NzMtNS40MDggICAgYzguMjQxLDQuMTQsMTguMjc0LDAuODE1LDIyLjQxNC03LjQyM0M1MTQuMzYsNDcxLjg4Niw1MTEuMDM3LDQ2MS44NSw1MDIuNzk4LDQ1Ny43MTF6IE0zNzIuODY3LDQ3Ni40NzEgICAgYy0xNC4wNDUsMy40NzgtMjguODI3LDIuNTE0LTQyLjQ2Mi0yLjkwNmM1LjM4My0yLjc3MSw5LjA3Mi04LjM3MSw5LjA3Mi0xNC44NDF2LTc0LjcwOWMwLTkuMjItNy40NzUtMTYuNjk1LTE2LjY5NS0xNi42OTUgICAgcy0xNi42OTUsNy40NzUtMTYuNjk1LDE2LjY5NXY3NC43MDljMCwwLjMxNiwwLjAzLDAuNjI2LDAuMDQ3LDAuOTM4Yy0xMC42MTQtNS44ODgtMjEuOTEyLTkuNzg2LTMzLjQzOC0xMS42OTZ2LTMwLjU2ICAgIGMwLTkuMjItNy40NzUtMTYuNjk1LTE2LjY5NS0xNi42OTVjLTkuMjIsMC0xNi42OTUsNy40NzUtMTYuNjk1LDE2LjY5NXYzMC41NmMtMTUuMDQ3LDIuNDkzLTI5LjcxNSw4LjM2MS00Mi45NjUsMTcuNjM2ICAgIGMtMTcuMjExLDEyLjA0Ny0zNy45MzUsMTUuNjU4LTU3LjI2MSwxMC44NTZjMC4wMjEtMC4zNDUsMC4wNTItMC42ODgsMC4wNTItMS4wMzhWMjMzLjc1NWMxOC45ODYsMCwxNC40OTksMCwzMy4zOTEsMHY1MC4wODYgICAgYzAsOS4yMiw3LjQ3NSwxNi42OTUsMTYuNjk1LDE2LjY5NWM5LjIyLDAsMTYuNjk1LTcuNDc1LDE2LjY5NS0xNi42OTV2LTUwLjA4NmgxMDAuMTczdjgzLjQ3N2MwLDkuMjIsNy40NzUsMTYuNjk1LDE2LjY5NSwxNi42OTUgICAgczE2LjY5NS03LjQ3NSwxNi42OTUtMTYuNjk1di04My40NzdoMzMuMzkxVjQ3Ni40NzF6IE0xNDAuMzIsMjAwLjM2NGM4LjEyNi01Ni41NjEsNTYuOTA2LTEwMC4xNzMsMTE1LjY3OS0xMDAuMTczICAgIHMxMDcuNTQ0LDQzLjYxMiwxMTUuNjcsMTAwLjE3M0MzNTkuOTkyLDIwMC4zNjQsMTUxLjgzMSwyMDAuMzY0LDE0MC4zMiwyMDAuMzY0eiBNMjU2LDY2LjggICAgYy04Mi44NTMsMC0xNTAuMjU5LDY3LjQwNi0xNTAuMjU5LDE1MC4yNTl2MTA1LjUzNEM4NC4yMjcsMjkxLjkzMyw3Mi4zNSwyNTUuMTA2LDcyLjM1LDIxNy4wNTkgICAgYzAtMTAxLjI2NCw4Mi4zODUtMTgzLjY1LDE4My42NS0xODMuNjVzMTgzLjY1LDgyLjM4NSwxODMuNjUsMTgzLjY1YzAsMzguMDQ3LTExLjg3Nyw3NC44NzMtMzMuMzkxLDEwNS41MzRWMjE3LjA1OSAgICBDNDA2LjI1OSwxMzQuMjA3LDMzOC44NTIsNjYuOCwyNTYsNjYuOHoiIGZpbGw9IiMwMDAwMDAiLz4KCTwvZz4KPC9nPgo8Zz4KCTxnPgoJCTxwYXRoIGQ9Ik0xODkuMjE4LDMzMy45MjdjLTkuMjIsMC0xNi42OTUsNy40NzUtMTYuNjk1LDE2LjY5NXY2Ni43ODJjMCw5LjIyLDcuNDc1LDE2LjY5NSwxNi42OTUsMTYuNjk1ICAgIHMxNi42OTUtNy40NzUsMTYuNjk1LTE2LjY5NXYtNjYuNzgyQzIwNS45MTMsMzQxLjQwMiwxOTguNDM4LDMzMy45MjcsMTg5LjIxOCwzMzMuOTI3eiIgZmlsbD0iIzAwMDAwMCIvPgoJPC9nPgo8L2c+CjxnPgoJPGc+CgkJPHBhdGggZD0iTTI1NiwyNjcuMTQ2Yy05LjIyLDAtMTYuNjk1LDcuNDc1LTE2LjY5NSwxNi42OTV2NjYuNzgyYzAsOS4yMiw3LjQ3NSwxNi42OTUsMTYuNjk1LDE2LjY5NSAgICBjOS4yMiwwLDE2LjY5NS03LjQ3NSwxNi42OTUtMTYuNjk1di02Ni43ODJDMjcyLjY5NSwyNzQuNjIxLDI2NS4yMiwyNjcuMTQ2LDI1NiwyNjcuMTQ2eiIgZmlsbD0iIzAwMDAwMCIvPgoJPC9nPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPgo='
                },
                'Public illumination': {
                    icon: 'data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUxMiA1MTI7IiB4bWw6c3BhY2U9InByZXNlcnZlIiB3aWR0aD0iMzJweCIgaGVpZ2h0PSIzMnB4Ij4KPGc+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZD0iTTUwMy40NjcsNDk0LjkzM0g0ODYuNGMtNC43MTMsMC04LjUzMywzLjgyLTguNTMzLDguNTMzUzQ4MS42ODcsNTEyLDQ4Ni40LDUxMmgxNy4wNjdjNC43MTMsMCw4LjUzMy0zLjgyLDguNTMzLTguNTMzICAgICBTNTA4LjE4LDQ5NC45MzMsNTAzLjQ2Nyw0OTQuOTMzeiIgZmlsbD0iIzAwMDAwMCIvPgoJCQk8cGF0aCBkPSJNNDUyLjI2Nyw0OTQuOTMzSDMxNS43MzNWNDg2LjRjLTAuMDE1LTE0LjEzMi0xMS40NjgtMjUuNTg1LTI1LjYtMjUuNlYyNzMuMDY3Yy0wLjAxOS02LjA2OS0zLjI3MS0xMS42NjktOC41MzMtMTQuNjkzICAgICBWMTQ1LjA2N2MtMC4wMzMtMTAuODEzLTYuODY4LTIwLjQzNS0xNy4wNjctMjQuMDI4VjUxLjJjMC4wMjItMTguODQyLDE1LjI5MS0zNC4xMTIsMzQuMTMzLTM0LjEzM2g1MS4ydjQyLjY2NyAgICAgYzAuMDE1LDE0LjEzMiwxMS40NjgsMjUuNTg1LDI1LjYsMjUuNmg1MS4yYzE0LjEzMi0wLjAxNSwyNS41ODUtMTEuNDY4LDI1LjYtMjUuNlYyNS42Yy0wLjAxNS0xNC4xMzItMTEuNDY4LTI1LjU4NS0yNS42LTI1LjYgICAgIGgtMTI4Yy0yOC4yNjQsMC4wMzEtNTEuMTY5LDIyLjkzNi01MS4yLDUxLjJ2NjkuODM5Yy0xMC4xOTksMy41OTItMTcuMDMzLDEzLjIxNC0xNy4wNjcsMjQuMDI4djExMy4zMDcgICAgIGMtNS4yNjIsMy4wMjQtOC41MTQsOC42MjQtOC41MzMsMTQuNjkzVjQ2MC44Yy0xNC4xMzIsMC4wMTUtMjUuNTg1LDExLjQ2OC0yNS42LDI1LjZ2OC41MzNIOC41MzMgICAgIGMtNC43MTMsMC04LjUzMywzLjgyLTguNTMzLDguNTMzUzMuODIsNTEyLDguNTMzLDUxMmg0NDMuNzMzYzQuNzEzLDAsOC41MzMtMy44Miw4LjUzMy04LjUzM1M0NTYuOTc5LDQ5NC45MzMsNDUyLjI2Nyw0OTQuOTMzeiAgICAgIE0zNjYuOTMzLDE3LjA2N2g1OS43MzNjNC43MSwwLjAwNiw4LjUyNywzLjgyMyw4LjUzMyw4LjUzM3Y4LjUzM2gtNjguMjY3VjE3LjA2N3ogTTM2Ni45MzMsNTEuMkg0MzUuMnY4LjUzMyAgICAgYy0wLjAwNiw0LjcxLTMuODIzLDguNTI3LTguNTMzLDguNTMzaC01MS4yYy00LjcxLTAuMDA2LTguNTI3LTMuODIzLTguNTMzLTguNTMzVjUxLjJ6IE0yNDcuNDY3LDE0NS4wNjcgICAgIGMwLTQuNzEzLDMuODItOC41MzMsOC41MzMtOC41MzNzOC41MzMsMy44Miw4LjUzMyw4LjUzM1YyNTZoLTE3LjA2N1YxNDUuMDY3eiBNMjM4LjkzMywyNzMuMDY3aDM0LjEzM3YyNS42aC0zNC4xMzNWMjczLjA2N3ogICAgICBNMjM4LjkzMywzMTUuNzMzaDM0LjEzM1Y0NjAuOGgtMzQuMTMzVjMxNS43MzN6IE0yOTguNjY3LDQ5NC45MzNoLTg1LjMzM1Y0ODYuNGMwLjAwNi00LjcxLDMuODIzLTguNTI3LDguNTMzLTguNTMzaDY4LjI2NyAgICAgYzQuNzEsMC4wMDYsOC41MjcsMy44MjMsOC41MzMsOC41MzNWNDk0LjkzM3oiIGZpbGw9IiMwMDAwMDAiLz4KCQkJPHBhdGggZD0iTTM0OS44NjYsOTMuODY3YzAtMi4yNjMtMC44OTktNC40MzMtMi41LTYuMDMzYy0xLjYtMS42MDEtMy43Ny0yLjUtNi4wMzMtMi41cy00LjQzMywwLjg5OS02LjAzMywyLjVsLTI1LjYsMjUuNiAgICAgYy0yLjE3OCwyLjE1MS0zLjAzNyw1LjMwNC0yLjI1MSw4LjI2MmMwLjc4NiwyLjk1OCwzLjA5Nyw1LjI2OSw2LjA1NSw2LjA1NXM2LjExMS0wLjA3Myw4LjI2Mi0yLjI1MWwyNS42LTI1LjYgICAgIEMzNDguOTY3LDk4LjMsMzQ5Ljg2Niw5Ni4xMywzNDkuODY2LDkzLjg2N3oiIGZpbGw9IiMwMDAwMDAiLz4KCQkJPHBhdGggZD0iTTQ4MC4zNjcsMTI1LjVjMS41OTgsMS42MDMsMy43NjksMi41MDMsNi4wMzMsMi41YzMuNDUxLTAuMDAxLDYuNTYyLTIuMDgsNy44ODItNS4yNjggICAgIGMxLjMyLTMuMTg4LDAuNTkxLTYuODU4LTEuODQ5LTkuMjk4bC0yNS42LTI1LjZjLTMuMzQxLTMuMjgxLTguNzAxLTMuMjU2LTEyLjAxMiwwLjA1NHMtMy4zMzUsOC42NzEtMC4wNTQsMTIuMDEyTDQ4MC4zNjcsMTI1LjUgICAgIHoiIGZpbGw9IiMwMDAwMDAiLz4KCQkJPHBhdGggZD0iTTM0Ni4wNSwxNTIuN2M0LjIxNiwyLjEwNiw5LjM0MSwwLjM5OCwxMS40NS0zLjgxN2wxNy4wNjctMzQuMTMzYzEuMzcyLTIuNzI4LDEuMTgyLTUuOTgyLTAuNDk5LTguNTMyICAgICBjLTEuNjgxLTIuNTUtNC41OTYtNC4wMDctNy42NDQtMy44MjJzLTUuNzY1LDEuOTg1LTcuMTI0LDQuNzJsLTE3LjA2NywzNC4xMzNjLTEuMDEzLDIuMDI0LTEuMTc5LDQuMzY4LTAuNDYzLDYuNTE2ICAgICBDMzQyLjQ4NiwxNDkuOTEzLDM0NC4wMjUsMTUxLjY4OCwzNDYuMDUsMTUyLjd6IiBmaWxsPSIjMDAwMDAwIi8+CgkJCTxwYXRoIGQ9Ik0zOTIuNTMzLDExMC45MzN2MzQuMTMzYzAsNC43MTMsMy44MjEsOC41MzMsOC41MzMsOC41MzNzOC41MzMtMy44MjEsOC41MzMtOC41MzN2LTM0LjEzMyAgICAgYzAtNC43MTMtMy44Mi04LjUzMy04LjUzMy04LjUzM1MzOTIuNTMzLDEwNi4yMjEsMzkyLjUzMywxMTAuOTMzeiIgZmlsbD0iIzAwMDAwMCIvPgoJCQk8cGF0aCBkPSJNNDM3Ljg5OSwxMDIuODM3Yy0yLjE0Ny0wLjcxNi00LjQ5MS0wLjU0OS02LjUxNiwwLjQ2M2MtMi4wMjUsMS4wMTItMy41NjQsMi43ODctNC4yOCw0LjkzNCAgICAgYy0wLjcxNiwyLjE0Ny0wLjU0OSw0LjQ5MSwwLjQ2Myw2LjUxNmwxNy4wNjcsMzQuMTMzYzIuMTE0LDQuMjA0LDcuMjMyLDUuOTAzLDExLjQ0MSwzLjc5OXM1LjkyLTcuMjE4LDMuODI2LTExLjQzMiAgICAgbC0xNy4wNjctMzQuMTMzQzQ0MS44MjEsMTA1LjA5Miw0NDAuMDQ2LDEwMy41NTIsNDM3Ljg5OSwxMDIuODM3eiIgZmlsbD0iIzAwMDAwMCIvPgoJCTwvZz4KCTwvZz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8L3N2Zz4K'
                },
                'Traffic signs': {
                    icon: 'data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjMycHgiIGhlaWdodD0iMzJweCIgdmlld0JveD0iMCAwIDQ1OSA0NTkiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQ1OSA0NTk7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPGc+Cgk8ZyBpZD0idHJhZmZpYyI+CgkJPHBhdGggZD0iTTQzMy41LDE3OC41SDM1N3YtMjguMDVjNDMuMzUtMTAuMiw3Ni41LTUxLDc2LjUtOTkuNDVIMzU3VjI1LjVDMzU3LDEwLjIsMzQ2LjgsMCwzMzEuNSwwaC0yMDQgICAgQzExMi4yLDAsMTAyLDEwLjIsMTAyLDI1LjVWNTFIMjUuNWMwLDQ4LjQ1LDMzLjE1LDg2LjcsNzYuNSw5OS40NXYyOC4wNUgyNS41YzAsNDguNDUsMzMuMTUsODYuNyw3Ni41LDk5LjQ1VjMwNkgyNS41ICAgIGMwLDQ4LjQ1LDMzLjE1LDg2LjcsNzYuNSw5OS40NXYyOC4wNWMwLDE1LjMsMTAuMiwyNS41LDI1LjUsMjUuNWgyMDRjMTUuMywwLDI1LjUtMTAuMiwyNS41LTI1LjV2LTI4LjA1ICAgIGM0My4zNS0xMC4yLDc2LjUtNTEsNzYuNS05OS40NUgzNTd2LTI4LjA1QzQwMC4zNSwyNjUuMiw0MzMuNSwyMjYuOTUsNDMzLjUsMTc4LjV6IE0yMjkuNSw0MDhjLTI4LjA1LDAtNTEtMjIuOTUtNTEtNTEgICAgczIyLjk1LTUxLDUxLTUxczUxLDIyLjk1LDUxLDUxUzI1Ny41NSw0MDgsMjI5LjUsNDA4eiBNMjI5LjUsMjgwLjVjLTI4LjA1LDAtNTEtMjIuOTUtNTEtNTFzMjIuOTUtNTEsNTEtNTFzNTEsMjIuOTUsNTEsNTEgICAgUzI1Ny41NSwyODAuNSwyMjkuNSwyODAuNXogTTIyOS41LDE1M2MtMjguMDUsMC01MS0yMi45NS01MS01MXMyMi45NS01MSw1MS01MXM1MSwyMi45NSw1MSw1MVMyNTcuNTUsMTUzLDIyOS41LDE1M3oiIGZpbGw9IiMwMDAwMDAiLz4KCTwvZz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8L3N2Zz4K'
                }
            }
        ;

        return (
            <Map
                className="map"
                google={this.props.google}
                onClick={this.onMapClicked}
                style={{height: '100%', position: 'relative', width: '100%'}}
                zoom={14}>
                {this.state.issues.map(issue => {
                    return (
                        <Marker
                            icon={icons[issue.infrastructureIssueType || issue.conmmunityIssueType].icon}
                            name={issue.issueId}
                            description={issue.issueDescription}
                            reportedBy={`${issue.firstName} ${issue.lastName}`}
                            image={issue.issueImage}
                            onClick={this.onMarkerClick}
                            position={{lat: issue.latitude, lng: issue.longitude}}
                        />
                    );
                })}

                <InfoWindow
                    marker={this.state.activeMarker}
                    onClose={this.onInfoWindowClose}
                    visible={this.state.showingInfoWindow}>
                    <div>
                        <h3>ID: {this.state.selectedPlace.name}</h3>
                        <h3>Reported By: {this.state.selectedPlace.reportedBy}</h3>
                        <img width="200" height="200" src={this.state.selectedPlace.image}/>
                        <p>{this.state.selectedPlace.description}</p>
                    </div>
                </InfoWindow>
            </Map>
        );
    }
}

export default WithMarkers;
